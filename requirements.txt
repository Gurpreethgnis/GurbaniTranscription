# Audio Transcription Application Dependencies

# Web Framework
flask>=3.0.0
werkzeug>=3.0.0

# Faster Whisper (uses CTranslate2 backend - faster and more stable)
# This works independently of the PyTorch version for inference
faster-whisper>=1.0.0

# Requests (for health check in container)
requests>=2.31.0

# Audio processing - ffmpeg is required as a system dependency:
# Windows: Download from https://ffmpeg.org/download.html
# macOS: brew install ffmpeg
# Linux: sudo apt-get install ffmpeg

# Voice Activity Detection
webrtcvad>=2.0.10

# Audio manipulation for chunking
pydub>=0.25.1
audioop-lts>=0.2.2 ; python_version >= "3.13"  # Required for Python 3.13+ (audioop was removed)

# Audio file handling
soundfile>=0.12.0

# NumPy for audio processing
numpy>=1.24.0

# Phase 2: Multi-ASR + Fusion
rapidfuzz>=3.0.0              # Fast fuzzy string matching
python-Levenshtein>=0.21.0    # Levenshtein distance for alignment

# Phase 6: Live Streaming (WebSocket)
flask-socketio>=5.3.0          # Flask WebSocket support
python-socketio>=5.10.0       # Socket.IO Python client/server
python-engineio>=4.8.0        # Engine.IO Python implementation
eventlet>=0.35.0              # Async networking library for WebSocket

# Phase 7: Audio Denoising
noisereduce>=3.0.0            # Spectral gating denoiser (lightweight default)
scipy>=1.10.0                 # For audio resampling
# Optional higher-quality backends (uncomment if needed):
# denoiser>=0.1.5              # Facebook's neural denoiser (requires torch)
# deepfilternet>=0.5.0         # DeepFilterNet (requires torch and GPU recommended)

# Phase 8: Evaluation Harness
jiwer>=3.0.0                  # WER/CER computation

# Phase 11: Document Formatting and Export
python-docx>=1.1.0            # DOCX document generation
weasyprint>=62.0               # PDF generation from HTML (or use reportlab as fallback)
# Alternative PDF library (uncomment if WeasyPrint doesn't work):
# reportlab>=4.0.0              # PDF generation (alternative to WeasyPrint)

# Phase 11: Embedding-Based Semantic Search (Optional)
# Uncomment to enable semantic search:
# sentence-transformers>=2.2.0  # Multilingual embeddings
# faiss-cpu>=1.7.4              # Vector search (CPU version, works on all platforms)
# 
# Note: faiss-gpu is NOT available via pip on Windows.
# For GPU support on Windows, use conda:
#   conda install -c conda-forge faiss-gpu
# For Linux/Mac, you can try:
#   pip install faiss-gpu  # May not work, conda is recommended
#   OR: conda install -c conda-forge faiss-gpu